#!/bin/sh
umask 0077
TMPFILE="`mktemp /tmp/troff2ps-XXXXXX`"
sed \
-e "s/±/a\\\\h'-(\\\\w'a'u\\*5\\/10)'\\\\(ho\\\\h'-(\\\\w'a'u\\*2\\/10)'/g" \
-e "s/¡/A\\\\h'-(\\\\w'a'u\\*5\\/10)'\\\\(ho\\\\h'-(\\\\w'a'u\\*2\\/10)'/g" \
-e "s/æ/\\\\o:c\\\\(aa:/g" \
-e "s/Æ/C\\\\h'-(\\\\w'a'u)'\\\\v'-(\\\\w'a'u\\*3\\/10)'\\\\(aa\\\\v'+(\\\\w'a'u\\*3\\/10)'\\\\h'+(\\\\w'a'u\\*3\\/10)'/g" \
-e "s/ê/\\\\o:e\\\\(ho:/g" \
-e "s/Ê/\\\\o:E\\\\(ho:/g" \
-e "s/³/\\\\(\\/l/g" \
-e "s/£/\\\\(\\/L/g" \
-e "s/ñ/\\\\o:n\\\\(aa:/g" \
-e "s/Ñ/N\\\\h'-(\\\\w'a'u)'\\\\v'-(\\\\w'a'u\\*3\\/10)'\\\\(aa\\\\v'+(\\\\w'a'u\\*3\\/10)'\\\\h'+(\\\\w'a'u\\*3\\/10)'/g" \
-e "s/ó/\\\\o:o\\\\(aa:/g" \
-e "s/Ó/O\\\\h'-(\\\\w'a'u)'\\\\v'-(\\\\w'a'u\\*3\\/10)'\\\\(aa\\\\v'+(\\\\w'a'u\\*3\\/10)'\\\\h'+(\\\\w'a'u\\*3\\/10)'/g" \
-e "s/¶/\\\\o:s\\\\(aa:/g" \
-e "s/¦/S\\\\h'-(\\\\w'a'u)'\\\\v'-(\\\\w'a'u\\*3\\/10)'\\\\(aa\\\\v'+(\\\\w'a'u\\*3\\/10)'\\\\h'+(\\\\w'a'u\\*3\\/10)'/g" \
-e "s/¿/\\\\o:z\\\\(a.:/g" \
-e "s/¯/Z\\\\h'-(\\\\w'a'u)'\\\\v'-(\\\\w'a'u\\*3\\/10)'\\\\(a.\\\\v'+(\\\\w'a'u\\*3\\/10)'\\\\h'+(\\\\w'a'u\\*3\\/10)'/g" \
-e "s/¼/\\\\o:z\\\\(aa:/g" \
-e "s/¬/Z\\\\h'-(\\\\w'a'u)'\\\\v'-(\\\\w'a'u\\*3\\/10)'\\\\(aa\\\\v'+(\\\\w'a'u\\*3\\/10)'\\\\h'+(\\\\w'a'u\\*3\\/10)'/g" \
> $TMPFILE
CMD="`grog -Tps -msafer < $TMPFILE`"
$CMD < $TMPFILE
rm -f $TMPFILE
